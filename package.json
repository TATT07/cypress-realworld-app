"scripts": {
  "dev": "cross-env NODE_ENV=development concurrently yarn:start:react yarn:start:api:watch",
  "dev:coverage": "cross-env NODE_ENV=development CYPRESS_COVERAGE=true concurrently yarn:start:react yarn:start:api:watch",
  "dev:auth0": "cross-env VITE_AUTH0=true NODE_ENV=development concurrently yarn:start:react yarn:start:api:watch",
  "dev:okta": "cross-env VITE_OKTA=true NODE_ENV=development concurrently yarn:start:react yarn:start:api:watch",
  "dev:cognito": "cross-env VITE_AWS_COGNITO=true NODE_ENV=development concurrently yarn:start:react yarn:start:api:watch",
  "dev:google": "cross-env VITE_GOOGLE=true NODE_ENV=development concurrently yarn:start:react yarn:start:api:watch",

  "predev:cognito": "yarn build:aws-exports-es5",
  "predev:cognito:ci": "yarn copy:mock:awsexports && yarn copy:mock:awsexportses5",

  "copy:mock:awsexports": "ncp scripts/mock-aws-exports.js src/aws-exports.js",
  "copy:mock:awsexportses5": "ncp scripts/mock-aws-exports-es5.js aws-exports-es5.js",

  "build:aws-exports-es5": "cross-env tsc --skipLibCheck --allowJs --lib 'es5' --module 'commonjs' --target 'es5' --moduleResolution 'node' --outDir . src/aws-exports.js; mv aws-exports.js aws-exports-es5.js",

  "start": "cross-env NODE_ENV=development concurrently yarn:start:react yarn:start:api",
  "start:ci": "cross-env NODE_ENV=test concurrently yarn:start:react:proxy-server yarn:start:api",
  "prestart:ci": "yarn predev:cognito:ci",

  "start:react": "vite",

  "start:empty": "cross-env NODE_ENV=development EMPTY_SEED=true concurrently yarn:start:react yarn:start:api:watch",

  "lint": "eslint && prettier --check \"**/**.{ts,js,tsx}\" \"*.{json,md,yml}\"",

  "list:dev:users": "cat data/database.json | json -a users | json -a id username",

  "types": "tsc --noEmit",

  "precypress:open": "yarn predev:cognito:ci",
  "cypress:open": "cypress open",

  "cypress:open:mobile": "cypress open --config '{\"e2e\":{\"viewportWidth\":375,\"viewportHeight\":667}}'",

  "cypress:run": "cypress run",
  "cypress:run:component": "cypress run --component",
  "cypress:run:mobile": "cypress run --config '{\"e2e\":{\"viewportWidth\":375,\"viewportHeight\":667}}'",

  "test": "yarn cypress:open",
  "test:headless": "yarn cypress:run",
  "test:api": "yarn cypress:run --spec 'cypress/tests/api/*'",
  "test:unit": "vitest",
  "test:unit:ci": "vitest --run",
  "test:component:ci": "yarn cypress:run:component",

  "start:api": "node dist/backend/app.js",
  "start:api:watch": "nodemon --exec yarn tsnode --watch 'backend' backend/app.ts",

  "start:react:proxy-server": "yarn tsnode scripts/testServer.ts",

  "prettier": "prettier --write \"**/**.{ts,js,tsx}\" \"*.{json,md,yml}\"",

  "tsnode": "nyc --silent ts-node -P tsconfig.tsnode.json",
  "tsnode:not-instrumented": "ts-node -P tsconfig.tsnode.json",

  "db:seed": "yarn tsnode scripts/generateSeedData",
  "predb:seed:dev": "yarn predev:cognito:ci",
  "db:seed:dev": "ncp ./data/database-seed.json ./data/database.json",
  "db:seed:empty": "ncp ./data/empty-seed.json ./data/database.json",
  "postdb:seed": "yarn db:seed:dev",

  "prestart": "yarn db:seed:dev",
  "predev": "yarn db:seed:dev",
  "prestart:empty": "yarn db:seed:empty",

  "prebuild": "yarn types",
  "prebuild:ci": "yarn predev:cognito:ci",

  "build:ci": "cross-env CYPRESS_COVERAGE=true vite build",
  "build": "vite build",

  "build:api": "tsc -p backend/tsconfig.build.json",

  "codesandbox:start:api": "yarn tsnode:not-instrumented --files backend/app.ts",
  "codesandbox:start": "NODE_ENV=development TSC_COMPILE_ON_ERROR=true concurrently \"vite\" yarn:start:api:codesandbox",

  "postinstall": "husky install && patch-package"
}
